var shows = [{
    name: "Dark Matter",
    themeSong: "assets/audio/darkMatter.mp3",
    showImg: "assets/images/darkMatter.png",
}, {
    name: "Orphan Black",
    themeSong: "assets/audio/orphanBlack.mp3",
    showImg: "assets/images/orphanBlack.jpg",
}, {
    name: "Star Trek: Voyager",
    themeSong: "assets/audio/starTrekVoyager.mp3",
    showImg: "assets/images/starTrekVoyager.jpg",
}, {
    name: "Torchwood",
    themeSong: "assets/audio/torchwood.mp3",
    showImg: "assets/images/torchwood.jpg",
}, {
    name: "Farscape",
    themeSong: "assets/audio/farscape.mp3",
    showImg: "assets/images/farscape.jpg",
}, {
    name: "Futurama",
    themeSong: "assets/audio/futurama.mp3",
    showImg: "assets/images/futurama.jpg",
}, {
    name: "Bablyon 5",
    themeSong: "assets/audio/bablyon5.mp3",
    showImg: "assets/images/babylon5.jpg",
}, {
    name: "The Expanse",
    themeSong: "assets/audio/theExpanse.mp3",
    showImg: "assets/images/theExpanse.jpg",
}, {
    name: "Westworld",
    themeSong: "assets/audio/westworld.mp3",
    showImg: "assets/images/westworld.jpg",
}, {
    name: "Stranger Things",
    themeSong: "assets/audio/strangerThings.mp3",
    showImg: "assets/images/strangerThings.jpg",
}, {
    name: "Mystery Science Theater 3000",
    themeSong: "assets/audio/mst3k.mp3",
    showImg: "assets/images/mst3k.jpg",
}, {
    name: "Fringe",
    themeSong: "assets/audio/fringe.mp3",
    showImg: "assets/images/fringe.jpg",
}, {
    name: "Star Trek: Deep Space Nine",
    themeSong: "assets/audio/starTrekDS9.mp3",
    showImg: "assets/images/starTrekDS9.jpg",
}, {
    name: "Stargate SG-1",
    themeSong: "assets/audio/stargateSG1.mp3",
    showImg: "assets/images/stargateSG1.jpg",
}, {
    name: "Lost",
    themeSong: "assets/audio/lost.mp3",
    showImg: "assets/images/lost.jpg",
}, {
    name: "Firefly",
    themeSong: "assets/audio/firefly.mp3",
    showImg: "assets/images/firefly.jpg",
}, {
    name: "Star Trek",
    themeSong: "assets/audio/starTrek.mp3",
    showImg: "assets/images/starTrek.jpg",
}, {
    name: "The Twilight Zone",
    themeSong: "assets/audio/theTwilightZone.mp3",
    showImg: "assets/images/theTwilightZone.jpg",
}, {
    name: "Battlestar Galactica",
    themeSong: "assets/audio/battlestarGalactica.mp3",
    showImg: "assets/images/battlestarGalactica.jpg",
}, {
    name: "Star Trek: The Next Generation",
    themeSong: "assets/audio/starTrekTNG.mp3",
    showImg: "assets/images/starTrekTNG.jpg",
}, {
    name: "The X-Files",
    themeSong: "assets/audio/theXFiles.mp3",
    showImg: "assets/images/theXFiles.jpg",
}, {
    name: "Doctor Who",
    themeSong: "assets/audio/doctorWho.mp3",
    showImg: "assets/images/doctorWho.jpg",
}, {
    name: "Stargate Atlantis",
    themeSong: "assets/audio/stargateAtlantis.mp3",
    showImg: "assets/images/stargateAtlantis.jpg",
}, {
    name: "Stargate Universe",
    themeSong: "assets/audio/stargateUniverse.mp3",
    showImg: "assets/images/stargateUniverse.jpg",
}, {
    name: "Killjoys",
    themeSong: "assets/audio/killjoys.mp3",
    showImg: "assets/images/killjoys.jpg",
}, {
    name: "Buffy the Vampire Slayer",
    themeSong: "assets/audio/buffyTheVampireSlayer.mp3",
    showImg: "assets/images/buffyTheVampireSlayer.jpg",
}, {
    name: "Angel",
    themeSong: "assets/audio/angel.mp3",
    showImg: "assets/images/angel.jpg",
}, {
    name: "Defiance",
    themeSong: "assets/audio/defiance.mp3",
    showImg: "assets/images/defiance.jpg",
}, {
    name: "Dollhouse",
    themeSong: "assets/audio/dollhouse.mp3",
    showImg: "assets/images/dollhouse.jpg",
}, {
    name: "The Outer Limits",
    themeSong: "assets/audio/theOuterLimits.mp3",
    showImg: "assets/images/theOuterLimits.jpg",
}, {
    name: "Quantum Leap",
    themeSong: "assets/audio/quantumLeap.mp3",
    showImg: "assets/images/quantumLeap.jpg",
}, {
    name: "Continuum",
    themeSong: "assets/audio/continuum.mp3",
    showImg: "assets/images/continuum.jpg",
}, {
    name: "The Man in the High Castle",
    themeSong: "assets/audio/theManInTheHighCastle.mp3",
    showImg: "assets/images/theManInTheHighCastle.jfif",
}, {
    name: "The Orville",
    themeSong: "assets/audio/theOrville.mp3",
    showImg: "assets/images/theOrville.jpg",
}, {
    name: "Warehouse 13",
    themeSong: "assets/audio/warehouse13.mp3",
    showImg: "assets/images/warehouse13.jpg",
}, {
    name: "Eureka",
    themeSong: "assets/audio/eureka.mp3",
    showImg: "assets/images/eureka.jpg",
}, {
    name: "Game of Thrones",
    themeSong: "assets/audio/gameOfThrones.mp3",
    showImg: "assets/images/gameOfThrones.jpg",
}, {
    name: "Star Trek: Enterprise",
    themeSong: "assets/audio/starTrekEnterprise.mp3",
    showImg: "assets/images/starTrekEnterprise.jpg",
}, {
    name: "Star Trek: Discovery",
    themeSong: "assets/audio/starTrekDiscovery.mp3",
    showImg: "assets/images/starTrekDiscovery.jpg",
}, {
    name: "Falling Skies",
    themeSong: "assets/audio/fallingSkies.mp3",
    showImg: "assets/images/fallingSKies.jpg",
}, {
    name: "Altered Carbon",
    themeSong: "assets/audio/alteredCarbon.mp3",
    showImg: "assets/images/alteredCarbon.jpg",
}, {
    name: "Colony",
    themeSong: "assets/audio/colony.mp3",
    showImg: "assets/images/colony.jpg",
}, {
    name: "Black Mirror",
    themeSong: "assets/audio/blackMirror.mp3",
    showImg: "assets/images/blackMirror.jpg",
}, {
    name: "Caprica",
    themeSong: "assets/audio/caprica.mp3",
    showImg: "assets/audio/caprica.jpg",
}, {
    name: "Sense8",
    themeSong: "assets/audio/caprica.mp3",
    showImg: "assets/audio/caprica.jpg",
}, {
    name: "Rick and Morty",
    themeSong: "assets/audio/rickAndMorty.mp3",
    showImg: "assets/audio/rickAndMorty.jfif",
}, {
    name: "The 100",
    themeSong: "assets/audio/the100.mp3",
    showImg: "assets/audio/the100.jpg",
}, {
    name: "Humans",
    themeSong: "assets/audio/humans.mp3",
    showImg: "assets/audio/humans.jpg",
}, {
    name: "Sanctuary",
    themeSong: "assets/audio/sanctuary.mp3",
    showImg: "assets/audio/sanctuary.jpg",
}, {
    name: "Andromeda", // 50 to here
    themeSong: "assets/audio/andromeda.mp3",
    showImg: "assets/audio/andromeda.jpg",
}];
var initialImage = "assets/images/scifishows.jpg";
var newShow = Math.floor(Math.random() * shows.length);
var showName;
var wordArray = [];
// var showLength = 0; not using currently, wasn't sure if needed number total that didn't include spaces
var showImg;
var showAudio;
var remGuesses = 12;
var incorrectGuesses = [];
var wins = 0;
// var maxPlays = 20; not using this now, going to let user go through all 50, but start at a random point
var playIndex = 1;
var startGame = window;
var tempArray1 = [];
var tempArray2 = [];
var x = document.getElementById("currentWord");
var y = document.getElementById("numGuesses");
var z = document.getElementById("lettersGuessed");
var a = document.getElementById("wins");
var b = document.getElementById("anyKey");

startGame.addEventListener("keyup", function (event) {
    if (event.key === "Enter") {
        event.preventDefault();
        newShow();
        document.getElementById("anyKey").style.display = "none";
        
        this.console.log(showName);
    }
})

function letterGuessed() {
    alert("You already guessed that letter, try again!")
}

function updateScore() {
    document.getElementById("wins") = wins;
}

function resetPage() {
    location.reload();
}

function newShow() {
    if (playIndex === shows.length) {
        b.style.display = "block";
        b.textContent = "GAME OVER!";
        x.textContent = "You got " + wins + " out of " + shows.length;
        //**********need to add page reload function here on delay
    } else {
        remGuesses = 12;
        showImg = shows[newShow].showImg;
        showAudio = shows[newShow].themeSong;
        showName = shows[newShow].name;
        console.log(showName);
        incorrectGuesses = [];
        for (var i = 0; i < showName.length; i++) {
            if (showName.charAt(i) === " ") {
                wordArray.push("&nbsp;");
            } else {
                wordArray.push("_");
                // showLength++;
            }
        }
        // console.log(showLength);
        x.innerHTML = wordArray.join(" ");
        y.textContent = remGuesses;
        z.textContent = incorrectGuesses;
        a.textContent = wins;
        if (newShow === shows.length - 1) {
            newShow = 0;
            playIndex++;
        } else {
            newShow++;
            playIndex++;
        }
        tempArray1 = [];
        for (var j = 0; j < wordArray.length; j++) {
            tempArray1.push(wordArray[j].toLowerCase());
        }
        tempArray2 = [];
        for (var k = 0; k < wordArray.length; k++) {
            tempArray2.push(incorrectGuesses[k].toLowerCase());
        }
    }
    document.getElementById("showImg").setAttribute("src", initialImage);
    // document.getElementsByTagName("audio").pause();
    document.getElementById("showAudio").setAttribute("src", "");
}

document.onkeyup = function (event) {
    console.log(event.key);
    if (event.key !== "Shift" || event.key !== "Enter") {
        for (var n = 0; n <= showName.length; n++) {
            if (tempArray1[n].includes(event.key.toLowerCase())) {
                letterGuessed();
            } else if (tempArray2[n].toLowerCase().includes(event.key.toLowerCase())) {
                letterGuessed();
            } else {
                if (showName.toLowerCase().charAt(n) === event.key.toLowerCase()) {
                    if (showName.charAt(n) === event.key.toUpperCase()) {
                        wordArray[n] = event.key.toUpperCase();
                    } else {
                        wordArray[n] = event.key.toLowerCase();
                    }
                    //*******write to page with update here for current word
                    x.textContent = wordArray;
                } else {
                    remGuesses--;
                    //*******push incorrect letter guessed to incorrect guesses array
                    incorrectGuesses = incorrectGuesses.push(event.key.toLowerCase());
                    //*******write to page with update here for incorrect guesses
                    y.textContent = remGuesses;
                    z.textContent = incorrectGuesses;

                }
            }
        }

        if (!wordArray.includes("_")) {
            document.getElementById("anyKey").style.display = "block";
            document.getElementById("showImg").setAttribute("src", showImg);
            document.getElementById("showAudio").setAttribute("src", showAudio);
            //******** may need to PLAY audio here if autoplay doesn't work
            startGame.addEventListener("keyup", function (event) {
                if (event.key === "Enter") {
                    event.preventDefault();
                    document.getElementById("anyKey").style.display = "none";
                    newShow();
                }
            })
        }
    }
}